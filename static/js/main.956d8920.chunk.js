(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n,l=c(0),o=c(15),r=c.n(o),i=(c(20),c(21),c(22),c(9)),a=c(7),s=c(5),u=c(3),d=c(8),j=c.n(d),f=c(1),b=function(e){var t=e.todo,c=e.deleteTodo,n=e.handleToggle,o=e.editingTitle,r=Object(l.useState)(!1),i=Object(u.a)(r,2),a=i[0],s=i[1],d=Object(l.useState)(t.title),b=Object(u.a)(d,2),m=b[0],O=b[1],p=Object(l.useRef)(null);Object(l.useEffect)((function(){a&&p.current&&p.current.focus()}),[a]);return Object(f.jsx)("li",{className:j()({completed:t.completed,editing:a}),hidden:!1,onDoubleClick:function(e){e.target!==p.current&&s(!0)},children:a?Object(f.jsx)("input",{type:"text",ref:p,className:"edit",value:m,onChange:function(e){O(e.target.value)},onKeyDown:function(e){return function(e){"Enter"===e.key?""===m.trim()?c(t.id):(o(t.id,m),s(!1)):"Escape"===e.key&&(s(!1),O(t.title))}(e)},onBlur:function(){""===m.trim()?c(t.id):(o(t.id,m),s(!1))}}):Object(f.jsxs)("div",{className:"view",children:[Object(f.jsx)("input",{type:"checkbox",ref:p,className:"toggle",id:"".concat(t.id),checked:t.completed,onChange:function(e){n(e,t.id)}}),Object(f.jsx)("label",{children:t.title}),Object(f.jsx)("button",{"aria-label":"Delete todo",type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return c(t.id)}})]})})},m=function(e){var t=e.filteredTodos,c=e.setTodos,n=function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))},l=function(e,t){c((function(c){return c.map((function(c){var n=e.target.checked;return c.id===t?Object(a.a)(Object(a.a)({},c),{},{completed:n}):c}))}))},o=function(e,t){c((function(c){return c.map((function(c){return c.id===e?Object(a.a)(Object(a.a)({},c),{},{title:t}):c}))}))};return Object(f.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(f.jsx)(b,{todo:e,deleteTodo:n,handleToggle:l,editingTitle:o},e.id)}))})};!function(e){e.All="all",e.Active="active",e.Completed="completed"}(n||(n={}));var O=function(e){var t=e.filter,c=e.setFilter;return Object(f.jsxs)("ul",{className:"filters",children:[Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"#/",className:j()({selected:t===n.All}),onClick:function(){return c(n.All)},children:"All"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"#/active",className:j()({selected:t===n.Active}),onClick:function(){return c(n.Active)},children:"Active"})}),Object(f.jsx)("li",{children:Object(f.jsx)(i.b,{to:"#/completed",className:j()({selected:t===n.Completed}),onClick:function(){return c(n.Completed)},children:"Completed"})})]})},p=function(){var e=function(e,t){var c=Object(l.useState)((function(){try{var c=localStorage.getItem(e);return null!==c?JSON.parse(c):t}catch(n){return t}})),n=Object(u.a)(c,2),o=n[0],r=n[1];return[o,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(u.a)(e,2),c=t[0],o=t[1],r=Object(l.useState)(""),i=Object(u.a)(r,2),d=i[0],j=i[1],b=Object(l.useState)(n.All),p=Object(u.a)(b,2),h=p[0],g=p[1],x=c.filter((function(e){return!e.completed})),v=c.filter((function(e){return e.completed})),y=c.filter((function(e){switch(h){case n.Active:return!e.completed;case n.Completed:return e.completed;default:return e}})),k=function(e){var t;"Enter"===e.key&&(e.preventDefault(),e.target.value&&(t={id:+new Date,title:e.target.value,completed:!1},o((function(e){return[].concat(Object(s.a)(e),[t])}))),j(""))};return Object(f.jsxs)("div",{className:"todoapp",children:[Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("h1",{children:"todos"}),Object(f.jsx)("form",{children:Object(f.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:d,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){k(e)}})})]}),c.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("section",{className:"main",children:[Object(f.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:0===x.length,onChange:function(e){return function(e){var t=e;o((function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{completed:t})}))}))}(e.target.checked)}}),Object(f.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(f.jsx)(m,{filteredTodos:y,setTodos:o})]}),Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:1===x.length?"".concat(x.length," item left"):"".concat(x.length," items left")}),Object(f.jsx)(O,{filter:h,setFilter:g}),v.length>0&&Object(f.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){o((function(e){return e.filter((function(e){return!e.completed}))}))},children:"Clear completed"})]})]})]})},h=function(){return Object(f.jsx)(p,{})};r.a.render(Object(f.jsx)(i.a,{children:Object(f.jsx)(h,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.956d8920.chunk.js.map